package misc;

import java.util.LinkedList;
import java.util.List;

/**
 * https://leetcode.com/discuss/questions/oj/merge-intervals
 * www.programcreek.com/2012/12/leetcode-merge-intervals/
 * www.geeksforgeeks.org/merging-intervals/
 *
 */
public class MergeIntervals {
    public static class Interval {
        final int start;
        final int end;

        public Interval() {
            start = 0;
            end = 0;
        }

        public Interval(int s, int e) {
            start = s;
            end = e;
        }

        @Override
        public String toString() {
            return "[" + start + "-" + end + "]";
        }


        @Override
        public int hashCode() {
            return start * 37 + end;
        }

        @Override
        public boolean equals(Object obj) {
            if (obj instanceof MergeIntervals.Interval) {
                MergeIntervals.Interval i = (Interval) obj;
                return i.start == start && i.end == end;
            }
            return false;
        }
    }

    private List<Interval> intervals = new LinkedList<>();

    /**
     * Initialize your data structure here.
     */
    public MergeIntervals() {

    }

    public void addNum(int val) {
        if (intervals.isEmpty()) {
            intervals.add(new Interval(val, val));
        } else {
            boolean added = false;
            for (int i = 0; !added && i < intervals.size(); i++) {
                Interval v = intervals.get(i);
                if (v.start > val + 1) {
                    intervals.add(i, new Interval(val, val));
                    added = true;
                } else if (v.start == val + 1) {
                    Interval n = new Interval(val, v.end);
                    if (i > 0) {
                        Interval k = intervals.get(i - 1);
                        if (k.end + 1 == val) {
                            n = new Interval(k.start, v.end);
                            intervals.remove(i - 1);
                        }
                    }
                    intervals.set(i, n);
                    added = true;
                } else if (v.end == val - 1) {
                    Interval n = new Interval(v.start, val);
                    if (i+1 < intervals.size()) {
                        Interval k = intervals.get(i + 1);
                        if (k.start - 1 == val) {
                            n = new Interval(n.start, k.end);
                            intervals.remove(i + 1);
                        }
                    }
                    intervals.set(i, n);
                    added = true;
                } else if (v.start <= val && v.end >= val) {
                    added = true;
                }
            }
            if (!added) {
                intervals.add(new Interval(val, val));
            }
        }
    }

    public List<Interval> getIntervals() {
        return intervals;
    }


    public static void main(String[] args) {
        Integer[] actions = new Integer[] {4,3,4};
//        Integer[] actions = new Integer[] {0,6,0,1,9,4,3,7,0,4,3,0};
        Integer[] a2 = new Integer[] {460,81,207,145,260,287,314,266,205,317,202,390,394,146,186,315,78,349,191,296,69,334,177,236,207,238,348,159,326,30,150,373,26,311,12,236,445,5,263,33,434,343,371,335,3,20,311,500,437,350,364,113,376,144,52,230, 165,84,211,449,218,224,355,262,64,456,222,395,194,404,195,110,98,470,293,24,194,117,42,93,28,319,86,306,306,353,256,142,439,176,229,316,258,479,478,465,467,291,245,352,107,133,21,81,1,327,70,394,340,486,198,461,227,170,51,442,398,161,228,162,14,22,184,105,262,94,101,337,368,156,430,127,172,356,22,468,36,230,363,23,405,490,230,59,40,49,383,207,460,220,38,213,378,415,19,90,245,64,436,468,160,217,279,143,271,100,148,221,302,268,130,116,59,392,49,367,124,142,368,330,371,258,430,61,323,59,369,179,338,352,330,111,416,120,259,337,117,314,143,85,405,277,164,293,12,65,198,488,255,38,383,391,388,285,348,106,367,408,380,177,296,315,451,54,417,263,179,228,6,110,327,331,247,477,240,157,424,129,302,352,411,393,192,29,19,363,481,171,221,363,329,130,336,152,178,270,366,75,11,314,12,22,113,327,33,31,487,211,447,108,218,179,88,164,494,374,191,205,132,266,368,344,231,21,461,204,195,1,69,435,257,366,74,165,420,411,123,11,404,84,394,342,84,39,464,299,310,229,75,301,126,403,367,13,467,18,44,146,75,118,178,368,202,135,246,196,155,451,275,489,387,285,131,344,228,361,202,248,10,370,17,341,291,388,145,343,103,265,170,490,486,104,283,165,485,463,293,360,341,177,459,450,165,374,4,408,282,477,181,313,161,392,300,494,0,70,21,63,465,475,240,474,410,390,374,94,274,212,475,87,85,330,78,55,252,399,303,378,133,142,214,496,359,474,269,277,496,95,392,396,423,375,77,331,462,282,180,475,281,206,307,402,114,7,265,471,340,316,314,248,366,124,446,137,473,464,39,224,372,225,254,404,353,479,82,462,464,318,471,126,441,387,305,45,15,5,125,381,193,388,313,195,440,19,233,415,63,355,164,12,237,261,20,283,174,2,95,55,270,21,464,423,473,157,453,493,383,137,336,298,202,153,29,62,67,240,321,382,23,412,21,278,372,316,475,172,293,41,280,407,101,130,350,127,129,468,500,77,450,276,19,293,321,16,379,409,35,324,228,119,229,79,167,328,238,278,272,411,172,407,40,214,176,226,417,256,494,431,59,158,11,367,9,443,96,207,31,155,195,26,384,356,179,418,38,27,177,451,378,336,281,402,206,15,402,95,194,179,61,175,88,308,327,6,228,277,436,248,40,25,431,396,430,131,324,47,414,167,478,236,16,455,313,143,18,188,78,274,73,87,461,320,121,440,312,473,241,444,339,22,120,141,85,119,113,440,231,439,69,283,6,466,2,195,401,500,9,412,255,19,389,56,306,389,337,190,13,218,457,166,124,69,255,267,36,204,329,483,216,218,236,112,197,323,198,291,418,499,443,186,10,306,237,118,20,161,399,483,53,439,24,357,13,210,435,196,463,357,302,80,170,205,295,499,142,252,467,173,314,383,315,377,98,479,88,292,148,317,145,216,341,134,364,173,66,307,83,215,199,38,356,341,389,273,277,84,103,114,263,410,178,441,368,358,167,59,482,428,204,432,450,171,251,166,348,456,493};
/*
        Integer[] a3 = new Integer[] {372,152,441,497,173,475,256,483,498,407,342,77,2,298,352,468,259,349,324,102,322,491,55,344,307,188,397,5,447,409,240,54,226,292,127,243,388,462,281,414,39,429,461,84,414,425,440,259,304,104,354,202,10,67,194,443,283,459,465,43,294,167,253,228,240,51,417,245,323,236,90,271,79,426,416,71,34,34,197,477,278,133,115,55,70,406,69,432,412,68,279,3,431,279,378,245,345,466,280,438,171,48,2,113,420,156,112,248,474,254,170,38,287,113,184,190,379,116,468,371,241,441,179,192,64,390,200,250,235,328,187,458,216,179,200,383,497,434,240,145,223,172,122,93,478,250,55,192,194,257,491,489,283,309,338,251,243,157,342,46,158,446,113,484,493,288,20,46,100,163,56,399,182,117,21,191,2,58,302,468,99,371,99,0,449,423,33,88,117,465,191,404,218,191,383,308,134,291,352,414,339,321,298,46,473,358,136,346,311,330,189,287,330,101,254,60,52,456,62,447,235,227,170,208,188,283,168,411,117,124,240,468,11,362,3,202,382,223,215,126,238,114,142,327,300,465,485,261,43,150,259,337,474,77,18,435,403,383,234,339,206,96,195,394,401,481,444,341,260,362,91,462,357,297,217,317,309,450,285,106,221,121,453,422,278,98,21,67,222,337,112,342,431,379,213,323,495,443,169,343,81,279,178,219,219,332,423,234,73,377,376,477,197,232,270,446,352,10,103,427,293,437,206,105,2,499,68,322,245,190,269,39,485,246,7,210,379,156,373,384,119,484,13,432,256,76,129,297,139,420,109,192,253,170,412,132,44,77,314,282,31,497,240,160,365,12,217,332,482,381,443,59,215,15,136,192,172,187,402,94,413,271,169,276,80,248,10,432,166,172,498,307,209,396,33,285,260,431,293,243,260,391,174,279,354,498,347,481,199,304,373,174,134,487,174,500,426,108,414,492,138,332,385,41,410,154,353,476,17,306,146,57,356,490,256,173,224,207,266,204,40,490,499,87,120,218,350,15,418,319,134,436,331,158,274,490,24,354,425,346,70,299,393,209,291,126,156,405,245,224,61,187,260,115,404,192,119,154,413,452,481,7,377,263,62,123,141,202,235,469,29,355,427,179,124,110,150,72,276,125,13,116,411,209,442,472,121,280,441,291,84,124,494,149,434,398,371,361,395,424,31,84,253,106,267,247,63,43,5,413,40,481,492,373,225,138,206,172,198,363,447,79,121,105,22,427,256,33,223,225,389,381,67,314,255,6,74,334,183,482,251,344,66,240,367,417,100,198,237,220,238,148,405,457,174,319,190,289,348,251,337,379,422,94,108,257,255,404,259,450,389,253,413,238,171,217,228,325,26,365,485,229,34,100,51,128,397,0,437,470,92,86,483,180,406,4,496,8,304,465,416,155,411,196,250,182,177,291,391,350,384,7,266,176,104,461,98,92,89,329,306,253,293,471,431,453,27,449,15,324,466,251,210,166,458,463,310,357,169,69,490,329,137,489,305,165,448,39,402,79,53,129,358,304,211,79,462,383,343,407,387,56,387,420,374,241,343,50,382,131,393,318,255,268,37,20,7,388,69,61,192,489,443,156,410,42,196,290,494,24,206,460,13,300,200,280,352,203,446,478,493,27,419,440,72,471,63,103,478,416,288,144,126,201,4,318,25,387,35,5,142,387,417,254,470,57,166,370,161,72,289,31,186,127,166,243,268,42,158,192,202,240,213,37,109,322,415,256,74,35,78,192,283,332,262,283,176,333,364,201,408,372,453,233,172,389,18,192,489,171,256,125,38,55,218,310,273,259,55,20,179,472,90,134,242,458,474,0,324,118,327,372,444,342,424,393,80,21,370,263,499,82,193,144,440,242,457,354,500,300,489,86,221,289,490,284,433,314,256,196,184,147,105,482,268,433,443,472,119,169,317,161,72,380,275,268,355,57,461,240,346,300,303,355,44,248,105,195,256,177,203,366,21,479,302,81,279,40,251,345,210,157,337,468,437,193,432,57,29,492,382,308,279,154,450,427,241,110,338,363,498,395,45,495,428,291,165,367,298,47,282,10,395,412,365,45,294,196,64,446,472,462,266,433,99,148,455,295,113,65,114,248,152,367,135,39,450,332,488,91,436,8,269,240,63,408,135,450,350,427,434};
    Integer[] a4 = new Integer[] {396,368,2,71,103,289,1,63,242,20,159,110,87,158,441,115,325,367,338,94,175,136,269,485,109,276,32,188,478,455,47,427,358,459,230,211,448,268,381,88,34,220,163,256,172,432,368,192,63,355,271,76,17,308,258,288,208,234,196,43,268,60,337,375,84,100,120,299,203,444,274,263,109,45,463,49,65,97,288,320,216,197,321,131,401,320,302,14,173,385,103,322,488,220,259,106,3,118,236,302,418,145,164,361,332,357,439,44,62,248,306,327,115,68,461,120,8,141,259,317,370,72,254,160,363,180,406,96,498,261,212,363,189,17,220,144,331,263,415,245,77,74,286,132,106,471,69,458,268,469,420,149,235,42,183,464,50,123,21,431,342,295,233,130,293,352,397,81,313,340,291,364,259,478,325,314,6,71,301,384,72,319,77,382,411,310,34,139,135,234,390,289,496,354,70,490,29,166,319,195,11,148,121,388,296,72,437,106,160,438,383,210,260,490,356,358,328,495,462,149,223,318,118,324,452,153,184,225,193,322,26,389,142,311,212,306,285,259,80,3,53,192,128,242,235,258,66,249,476,86,7,169,354,431,54,15,155,311,461,165,390,63,321,125,381,456,221,344,177,425,205,292,494,279,226,48,475,262,351,327,118,319,48,28,421,300,150,263,279,339,0,72,46,377,226,99,187,335,231,273,469,200,51,53,363,156,57,389,445,51,308,370,123,419,342,222,83,129,415,84,353,286,280,8,61,155,315,191,128,192,232,297,280,184,213,403,295,486,301,141,257,236,427,369,441,359,126,136,82,440,450,162,11,237,394,352,338,10,51,365,410,91,409,476,301,276,16,207,233,477,220,5,284,34,497,330,360,347,471,202,139,39,11,239,372,370,1,308,416,434,385,209,352,351,32,19,173,322,190,323,381,386,141,486,277,314,318,337,77,337,216,485,357,487,496,417,293,300,235,185,209,457,323,85,18,220,220,32,113,166,188,313,78,411,249,34,49,472,16,325,89,327,494,460,219,216,145,220,479,18,239,448,53,58,408,141,399,151,16,410,166,231,29,326,415,110,467,317,274,103,438,212,21,463,184,147,29,16,21,438,434,235,40,69,474,280,398,38,32,389,58,411,468,216,57,359,223,251,444,270,69,186,425,256,40,253,17,440,124,365,498,449,264,162,350,273,455,121,347,76,202,389,182,142,176,187,3,71,371,347,326,68,58,245,242,63,483,409,436,86,328,407,162,493,47,397,72,125,94,57,336,121,400,385,479,388,496,279,16,166,197,484,210,135,400,460,23,491,362,498,324,3,339,113,495,466,431,355,126,464,412,317,85,99,284,297,204,407,339,129,15,304,165,445,117,274,99,484,322,377,446,227,273,225,310,167,411,182,386,8,182,240,451,361,367,318,451,363,316,461,382,7,435,94,374,207,196,77,214,500,414,369,322,107,31,467,455,1,456,375,49,77,88,128,452,211,269,212,232,125,157,126,142,304,11,469,257,251,211,366,381,361,483,207,42,399,356,12,246,405,475,175,236,222,372,352,237,92,294,12,178,154,33,48,394,227,64,467,158,220,348,77,392,423,246,355,362,496,388,180,255,197,268,448,48,448,252,72,467,97,13,235,287,25,315,282,282,40,178,65,234,185,165,441,312,55,329,499,183,386,329,238,202,107,209,133,243,335,444,72,405,381,314,96,35,68,161,145,406,172,81,488,353,402,249,48,293,222,159,43,158,136,178,357,58,189,380,155,428,432,94,325,320,85,279,238,120,357,448,449,52,189,44,232,332,354,28,56,316,418,304,47,41,290,108,374,151,413,451,266,352,382,313,324,202,447,88,81,362,105,260,451,179,368,435,329,45,258,399,499,229,28,174,250,465,32,458,220,49,376,60,67,118,274,330,431,295,319,241,252,332,135,148,312,311,90,98,274,417,156,87,24,265,264,306,273,330,435,159,398,113,165,247,260,369,13,369,403,0,281,9,69,436,27,454,334,383,338,379,366,448,180,191,325,265,339,184,209,196,19,369,285,443,369,207,388,31,318,466,446,158,140,147,444,171,207,165,133,435,222,267,201,168,202,448,140,349,107,455,233,149,214,370,429,407,65,484,239,476,85,471,96,435,135,421,82,428,331,60,469,217,92,422,27,19,369,45,373,47,470,68,282,323,183,47,244,168,446,101,112,299,222,143,70,420,47,452,471,65,463,133,397,162,223,355,273,378,198,31,172,443,401,464,295,164,241,247,122,436,29,166,490,280,472,3,406,313,429,368,500,169,372,423,347,396,410,136,141,202,11,453,406,66,410,165,304,245,222,305,454,207,13,426,476,404,78,211,379,432,435,462,321,69,210,480,66,467,180,296,407,46,56,239,453,486,327,95,397,188,132,295,221,260,486,19,437,217,423,438,369,237,261,298,198,357,428,168,478,281,147,81,363,140,405,474,176,189,151,128,500,414,433,13,477,412,412,464,206,38,285,268,108,371,493,358,397,387,406,79,303,304,437,219,130,268,247,8,24,94,246,329,261,288,496,43,186,273,396,442,310,328,448,396,290,6,206,35,482,414,173,50,282,176,362,419,299,409,4,116,215,232,407,87,287,269,324,6,21,45,197,299,367,326,53,433,197,408,85,190,335,315,259,462,406,298,339,208,256,315,419,100,229,92,98,17,59,379,165,152,72,288,207,27,191,404,379,488,429,249,396,393,205,193,280,221,312,407,460,322,262,108,200,112,365,270,76,82,14,57,310,319,264,395,273,128,383,183,22,108,222,307,390,431,387,376,295,96,333,347,134,185,147,498,349,179,97,170,120,416,94,189,268,125,84,481,452,13,267,21,217,54,403,100,150,42,485,250,211,276,89,399,143,424,370,147,243,147,471,425,270,345,38,401,179,134,164,445,51,494,232,314,253,31,383,200,241,411,156,70,22,345,33,297,34,56,197,146,53,471,474,482,491,455,283,202,371,262,113,388,81,326,475,268,72,179,255,216,74,299,440,486,90,329,10,75,257,303,124,368,446,486,52,342,262,349,467,143,441,45,20,463,129,356,110,294,170,362,373,452,402,225,63,336,220,355,495,167,222,171,160,121,176,181,179,474,187,8,483,291,154,397,11,428,59,12,71,418,25,457,146,98,328,121,283,382,334,159,317,315,10,230,316,191,80,457,5,433,83,496,456,46,384,334,433,248,156,396,368,268,493,385,249,463,253,422,25,65,106,116,70,20,280,295,363,308,227,225,7,308,318,313,481,352,105,305,277,337,298,379,229,283,463,132,331,369,411,287,488,482,257,226,51,294,155,344,358,433,372,405,421,498,164,295,279,286,334,469,9,155,231,258,454,250,118,429,257,392,132,473,201,223,238,165,380,288,302,301,147,171,45,192,131,174,312,343,374,110,91,485,233,238,41,344,86,26,125,484,166,28,335,87,142,238,270,151,463,379,314,37,409,415,404,416,87,450,147,132,0,79,174,116,437,23,223,189,433,418,162,339,230,125,348,233,348,369,281,132,68,5,211,330,414,142,34,241,169,167,23,260,221,354,339,191,21,486,101,370,281,15,367,487,74,358,286,270,217,223,86,180,338,425,368,313,114,2,429,383,474,68,487,165,282,9,398,468,474,77,69,274,204,9,144,390,382,118,460,184,385,171,494,338,185,32,94,474,288,400,106,262,300,470,253,462,159,291,313,48,82,127,131,92,209,48,75,428,89,224,40,399,134,331,410,207,103,79,230,297,330,293,122,0,68,220,485,284,490,421,498,144,345,215,436,307,202,472,421,247,213,202,202,155,83,416,61,312,79,434,114,62,8,453,395,157,433,254,109,284,14,348,135,187,432,312,480,113,3,426,305,66,127,474,289,277,386,451,195,413,435,478,240,447,412,235,359,67,372,198,414,172,399,145,249,198,499,120,421,404,474,347,248,471,18,454,371,101,146,432,51,135,75,104,65,173,437,297,79,52,499,126,143,93,139,473,185,207,167,298,262,130,53,277,279,28,171,212,242,159,335,401,59,211,334,296,437,436,273,444,404,75,4,193,182,14,406,258,488,417,404,199,472,357,52,277,105,321,201,20,450,460,318,104,206,348,58,103,45,467,378,68,118,329,487,107,424,218,429,5,261,209,394,481,50,377,181,441,432,499,255,249,106,25,453,54,216,50};
    Integer[] a5 = new Integer[] {18,164,57,141,497,120,394,395,32,196,74,162,65,69,357,27,238,276,212,123,312,48,87,147,225,101,325,131,239,403,335,301,416,202,215,195,65,298,245,399,304,172,430,138,153,435,490,106,112,290,12,408,213,366,12,398,274,10,24,203,312,226,322,451,191,210,398,21,169,31,327,337,332,310,373,6,315,315,417,377,17,296,206,140,54,60,77,119,242,302,130,102,261,244,37,114,197,468,229,123,437,500,77,437,245,128,406,275,276,349,195,350,371,405,24,153,292,333,298,402,166,320,267,422,149,267,118,463,482,152,432,217,146,190,372,492,416,422,151,97,121,472,82,106,397,434,122,261,182,432,293,238,340,493,320,404,406,132,195,99,302,394,208,166,213,361,20,463,331,286,7,43,75,308,280,82,430,166,70,146,376,243,319,134,310,123,6,359,221,151,263,190,404,486,326,19,327,4,200,45,432,13,339,231,255,129,188,216,225,244,418,316,431,258,262,315,356,368,280,200,138,369,29,479,495,449,444,479,301,418,92,229,11,177,217,86,357,88,80,375,455,463,434,99,303,266,25,115,286,430,378,406,227,477,306,139,165,187,65,322,268,412,48,76,169,108,125,176,177,254,370,260,446,31,328,331,466,288,356,230,37,49,228,314,191,92,434,479,172,139,70,487,283,273,157,401,94,333,335,468,417,222,362,254,68,270,360,464,278,132,257,348,142,65,96,150,103,147,21,218,346,5,83,51,209,438,134,201,177,77,45,107,21,197,380,139,495,252,378,284,284,391,393,102,80,92,115,39,116,199,315,13,307,355,446,328,284,149,191,307,402,174,333,182,310,22,50,330,429,155,371,386,34,335,218,100,102,411,339,203,236,80,495,262,37,206,439,160,367,40,384,306,228,96,245,398,25,125,146,147,334,465,295,328,247,236,361,342,183,240,35,154,377,491,232,221,72,345,445,32,324,104,67,333,143,40,365,437,292,384,346,269,228,278,139,2,321,451,176,219,351,16,124,385,326,23,188,299,58,471,87,303,33,125,72,381,490,446,108,320,454,329,30,224,166,323,30,330,24,28,114,432,384,132,4,130,467,278,40,363,315,424,490,424,339,439,310,105,257,149,124,92,33,142,439,254,265,55,479,60,483,93,24,471,15,136,330,286,367,157,376,27,16,116,414,56,368,472,486,45,128,28,381,212,132,451,296,488,341,55,67,59,181,394,459,27,204,471,400,140,449,69,168,102,212,267,36,88,309,420,44,479,250,388,29,179,231,282,482,253,457,484,447,176,434,156,360,349,301,450,398,407,212,443,365,158,211,119,426,187,187,194,280,141,410,335,396,34,188,103,96,168,427,189,31,424,393,274,23,76,179,208,150,384,484,214,85,226,69,232,205,492,176,61,466,352,348,163,101,356,145,308,47,219,318,275,320,115,227,32,38,103,324,398,299,178,3,348,425,4,309,172,205,367,217,275,347,330,238,268,323,6,11,233,354,476,263,337,461,49,63,238,284,152,193,435,266,287,465,298,231,89,95,253,22,255,441,194,420,376,407,169,305,327,49,85,336,361,20,243,240,212,382,486,15,465,368,191,117,294,268,475,488,390,439,346,393,267,351,218,461,458,499,128,108,308,185,198,386,338,427,404,245,52,211,395,183,422,199,409,380,336,3,463,183,46,6,431,209,293,493,468,315,366,322,210,58,103,149,107,466,102,117,348,486,319,146,408,78,325,247,376,243,311,1,422,363,98,474,495,314,418,495,152,92,162,484,148,225,426,88,227,132,210,481,219,30,447,429,171,24,247,321,219,33,46,374,267,325,148,218,171,328,228,55,340,487,206,16,271,319,177,450,476,235,252,213,342,29,152,400,97,269,108,57,202,275,131,170,226,365,74,294,299,487,303,203,241,307,266,337,147,123,490,471,370,491,497,135,173,461,359,74,394,97,102,307,104,191,81,345,308,454,47,494,154,14,174,474,145,246,137,338,186,463,54,313,494,184,268,387,72,238,428,440,263,399,267,341,405,38,46,22,449,110,253,178,195,174,434,52,371,252,293,235,387,272,205,206,213,276,122,489,430,168,266,324,247,86,322,334,294,261,234,489,49,443,0,380,230,266,25,478,90,414,498,444,318,76,296,338,465,343,81,19,404,176,168,175,462,418,396,243,493,289,445,484,301,297,482,15,269,59,410,468,280,149,451,51,395,20,388,382,396,332,91,412,112,415,314,422,269,6,462,284,223,229,283,391,158,214,95,240,389,21,424,79,81,106,371,343,424,94,453,80,80,210,168,380,338,29,55,263,52,281,360,309,4,468,127,229,262,489,154,329,420,282,111,139,65,366,248,164,460,100,63,310,197,189,295,305,9,49,23,16,105,456,38,96,288,189,333,103,345,37,177,214,307,8,16,57,301,220,347,224,3,123,466,417,376,158,361,138,16,195,347,122,495,158,312,52,44,401,299,53,196,314,402,219,229,438,294,386,274,346,404,417,92,353,357,217,152,103,471,343,462,320,155,391,433,408,272,250,410,353,41,380,409,253,111,226,248,413,248,433,212,88,205,400,305,457,355,349,462,360,272,434,461,464,113,250,319,24,207,302,421,21,160,157,81,162,496,245,36,393,493,461,305,201,411,287,89,332,238,350,103,145,152,145,352,175,333,7,12,234,459,23,42,500,155,37,31,40,112,294,17,420,471,167,415,304,11,415,488,367,364,202,428,12,178,415,85,95,26,14,444,385,272,423,76,493,361,410,129,9,306,375,464,74,112,307,408,148,196,349,39,238,134,16,183,149,448,283,116,153,262,495,137,189,56,38,98,325,343,412,414,137,186,473,262,323,351,462,205,388,222,171,369,307,155,294,52,458,15,35,348,393,467,211,471,251,45,148,248,441,29,271,275,433,185,237,332,113,318,225,120,125,296,339,142,193,483,173,296,228,207,115,187,415,227,499,477,130,65,353,18,97,146,119,229,477,244,160,90,252,1,110,269,433,186,166,155,432,257,450,337,128,194,42,28,465,293,411,114,280,270,63,407,471,461,86,292,470,496,248,443,431,440,340,469,341,60,105,110,77,258,153,147,171,67,239,445,256,382,194,496,174,153,339,350,188,204,105,308,128,261,25,241,433,206,299,87,7,126,88,409,136,484,354,424,51,203,165,103,461,392,82,301,412,192,412,267,369,407,48,389,226,423,68,152,267,327,170,340,466,168,33,182,7,73,332,138,63,456,81,170,251,432,378,295,490,257,97,244,186,197,248,411,273,352,470,60,364,396,311,366,158,48,75,418,247,90,230,263,240,13,93,300,170,389,155,395,283,161,151,202,37,390,460,320,295,393,47,374,343,76,283,402,121,39,51,153,192,417,239,382,118,350,489,207,431,28,39,19,430,416,373,441,151,387,442,301,400,417,328,400,448,107,103,308,441,409,409,77,132,468,363,362,422,340,146,442,165,474,324,97,428,398,442,324,72,36,66,264,242,293,223,358,270,325,428,42,425,119,485,229,208,487,278,22,447,137,201,72,498,321,453,310,432,437,479,380,477,334,370,463,472,490,2,292,481,325,96,77,168,264,204,184,44,322,194,255,26,498,147,356,401,85,187,176,85,328,377,325,369,46,208,249,485,227,270,263,89,0,446,466,8,77,441,285,42,261,402,130,213,369,196,2,142,276,344,208,159,353,488,434,247,63,330,105,113,314,111,356,252,217,402,231,361,310,372,447,107,339,2,108,371,154,108,279,444,270,106,146,64,165,25,327,265,55,23,73,431,482,152,220,95,364,255,6,116,4,219,436,441,301,480,456,255,197,158,83,275,237,5,16,108,130,225,452,462,135,339,278,451,151,222,298,210,209,100,371,407,326,281,441,430,9,340,10,203,100,102,218,22,363,246,437,136,484,482,191,77,62,34,21,435,182,234,218,401,200,178,340,192,329,229,284,201,126,472,294,318,143,318,276,291,270,129,327,40,155,152,217,1,102,427,396,6,303,258,48,371,181,191,183,304,417,422,156,449,29,312,350,478,209,207,314,170,485,174,73,170,127,500,445,367,137,141,76,292,110,52,451,134,313,64,142,69,138,4,181,470,313,475,226,29,76,244,114,45,131,234,210,375,471,272,45,58,202,43,272,355,145,261,490,83,465,207,441,187,459,441,416,164,129,49,390,200,232,47,34,421,279,82,94,180,133,68,3,478,222,331,283,351,446,164,329,7,148,13,222,429};
    Integer[] a6 = new Integer[] {447,336,423,236,41,232,359,112,64,493,223,324,497,349,207,270,248,225,284,154,57,482,452,344,221,446,233,322,463,89,383,467,206,281,165,466,168,121,196,48,79,48,356,166,18,346,149,406,459,293,466,462,196,357,9,316,485,285,148,270,191,147,224,112,237,119,9,11,212,149,19,409,49,154,412,368,214,384,129,211,406,156,402,218,352,89,227,67,282,64,472,462,138,158,2,498,288,159,498,133,326,214,60,128,353,116,157,90,18,26,97,47,344,443,248,153,252,358,316,80,387,450,251,347,291,83,192,482,26,382,309,284,246,75,305,473,254,425,342,86,411,84,472,80,206,414,180,308,332,145,202,293,250,469,362,42,343,296,263,162,389,455,162,242,358,381,141,287,438,35,414,351,414,445,372,333,47,286,17,218,42,304,16,369,333,42,65,387,373,455,175,103,478,237,283,45,404,111,476,231,79,302,125,56,243,252,356,451,108,413,227,63,376,193,280,1,123,290,15,65,262,110,352,447,82,186,35,470,356,72,116,307,149,78,418,138,351,198,119,433,352,206,314,68,488,376,412,103,420,159,170,334,437,341,145,413,67,472,353,281,104,230,212,265,383,412,241,308,407,357,299,201,31,416,101,285,105,1,202,270,130,25,386,242,27,68,351,493,469,481,228,330,41,294,369,449,41,207,136,57,117,401,278,274,115,413,242,418,219,0,113,305,83,242,299,195,14,31,405,248,47,102,160,27,304,250,389,238,272,402,414,163,48,449,386,9,30,432,202,2,283,499,492,122,369,92,410,308,409,344,416,68,135,93,61,111,41,225,172,4,97,351,21,9,429,458,18,130,179,291,314,483,135,201,188,420,96,455,331,245,360,98,22,433,178,437,312,291,442,152,191,423,454,393,460,275,86,424,442,152,334,9,463,173,282,342,412,354,163,466,111,374,254,126,256,157,260,104,132,122,431,196,429,189,160,332,202,410,324,350,485,423,171,230,433,447,269,273,41,106,59,162,7,254,0,180,51,121,332,132,2,413,270,442,134,160,15,254,448,0,289,120,344,463,242,439,193,109,211,329,401,339,35,398,66,57,106,87,96,100,268,431,263,329,391,496,137,471,97,96,398,39,451,452,351,349,240,35,173,381,294,153,86,105,267,350,473,391,353,317,499,305,391,201,69,183,396,254,248,104,181,375,209,87,480,467,431,245,494,35,328,16,172,280,241,218,469,442,446,390,100,331,185,445,172,298,414,164,60,178,135,175,489,430,292,420,253,466,126,451,282,55,237,157,110,394,84,313,277,274,93,351,237,279,465,497,305,251,489,16,82,353,157,249,312,202,296,159,80,319,81,84,425,388,50,368,412,413,312,269,305,160,290,395,222,54,420,146,221,329,402,320,193,53,484,249,221,381,371,352,490,416,314,64,415,258,293,279,111,278,235,449,471,492,265,145,47,10,138,19,359,239,410,417,236,241,265,328,238,480,138,19,486,43,94,137,421,158,328,423,272,114,257,11,183,90,201,30,335,345,404,298,61,72,493,348,331,244,162,425,470,125,172,159,493,288,371,167,163,373,408,71,438,326,152,97,474,261,220,153,330,4,456,308,0,30,300,120,166,437,394,258,439,291,140,488,29,34,448,275,439,397,367,478,172,313,453,123,3,273,214,199,192,338,263,221,340,179,245,167,264,453,50,312,89,462,411,202,477,28,305,177,396,498,145,308,326,156,149,50,473,247,351,394,134,97,186,305,264,57,492,495,424,85,210,403,495,308,89,453,148,408,330,172,304,188,301,392,359,291,360,402,189,102,346,104,329,369,168,114,374,488,377,436,238,125,54,75,135,391,64,500,20,285,288,251,83,232,424,128,184,153,195,306,261,479,235,152,9,147,416,498,286,241,193,166,175,405,172,288,71,440,153,229,125,82,470,352,464,20,276,300,483,358,317,134,448,296,0,320,431,49,96,272,20,194,289,123,426,49,401,104,417,328,373,260,411,81,377,9,125,42,226,138,442,20,381,439,310,98,0,43,414,321,453,349,54,321,158,313,89,399,353,262,301,216,257,255,167,135,191,54,0,377,437,172,147,370,443,23,91,49,179,416,17,166,471,286,158,434,377,27,442,459,250,314,202,171,316,386,224,272,68,171,222,446,306,178,403,119,291,473,6,289,387,272,123,434,304,208,220,443,337,495,336,53,247,318,7,78,323,26,355,67,217,399,319,102,280,358,104,33,77,390,99,390,478,353,404,393,366,347,4,231,200,391,384,220,365,87,431,37,232,162,419,193,58,344,91,456,364,370,156,477,206,133,327,413,469,208,370,44,464,4,271,148,195,221,248,404,238,253,13,181,411,154,440,215,139,63,121,306,102,487,434,247,477,27,329,236,22,349,309,344,114,38,120,212,330,362,152,413,318,107,488,455,399,286,147,73,127,274,208,122,339,254,68,137,180,132,471,109,406,9,302,37,134,495,15,189,220,187,355,387,363,130,270,424,169,145,367,1,359,188,408,443,249,240,183,398,79,197,122,53,381,442,392,100,137,299,129,151,260,401,300,484,167,395,285,100,58,249,101,197,21,217,190,232,406,322,163,10,71,252,441,230,210,253,65,401,245,36,457,34,14,1,273,162,32,22,235,35,100,371,154,14,480,467,319,380,463,172,313,488,30,431,226,459,188,21,258,465,275,120,340,277,277,119,110,5,485,376,451,226,118,236,488,436,365,340,215,286,380,120,33,367,242,331,144,354,432,302,2,408,112,233,44,198,447,248,357,225,248,137,339,101,452,421,126,256,478,427,52,204,188,440,481,386,321,132,132,223,204,353,209,443,51,74,382,441,265,278,290,406,421,159,200,363,346,263,150,349,387,340,458,15,124,101,103,21,323,294,93,275,139,399,347,247,344,441,301,179,88,239,3,133,263,273,88,196,237,425,101,184,460,181,273,260,458,474,142,302,370,23,376,195,325,197,96,328,28,286,263,10,337,248,123,268,326,310,355,111,459,248,138,299,43,8,127,425,52,266,374,288,115,245,206,59,177,496,23,77,426,428,54,424,433,242,87,248,12,385,96,165,295,327,119,192,295,134,430,261,325,428,40,415,132,104,342,216,375,46,313,239,371,12,36,326,498,56,126,26,408,53,359,188,267,187,104,425,34,188,392,252,259,56,105,366,156,369,299,349,150,208,426,96,36,401,432,89,408,115,396,345,231,196,435,107,293,94,467,50,469,449,484,361,473,7,181,264,283,14,435,69,68,37,448,108,311,450,347,343,408,40,328,208,359,326,157,284,383,453,445,95,203,463,299,38,120,146,356,218,205,396,31,196,492,404,400,51,56,10,22,482,472,479,281,71,47,422,286,485,102,118,391,36,329,109,328,396,452,429,269,352,174,334,305,217,189,242,469,412,3,401,201,490,65,425,245,133,463,281,393,208,162,439,207,89,327,372,456,338,158,97,294,410,54,385,428,281,314,494,371,150,400,294,181,461,168,296,486,456,477,174,123,338,100,444,163,417,468,472,187,125,315,12,496,138,220,138,464,422,268,297,472,60,32,122,28,281,168,431,38,70,288,87,384,67,264,327,139,350,269,1,107,97,247,127,6,394,132,152,493,70,162,281,432,53,169,307,403,334,147,19,7,422,153,331,213,209,324,306,264,56,415,225,150,238,444,347,427,449,498,52,223,83,302,284,95,80,464,46,445,183,396,398,246,251,20,138,215,278,294,141,213,96,347,120,323,489,112,11,208,42,265,476,132,48,191,356,440,223,7,396,81,249,106,176,389,74,249,247,92,163,343,77,410,38,219,267,212,373,224,269,342,53,138,289,465,249,94,92,15,61,296,56,79,165,150,447,56,272,172,313,442,72,169,386,125,143,2,126,391,311,320,103,353,479,12,226,203,254,395,364,487,335,340,242,135,214,98,360,39,175,42,348,432,208,172,402,247,158,66,147,362,4,65,426,276,162,301,202,114,166,402,429,88,434,135,378,111,391,392,390,331,202,335,61,418,220,333,44,4,154,115,421,344,341,414,66,447,86,212,500,312,265,20,89,448,302,66,139,385,486,99,41,150,269,334,334,351,264,459,161,305,35,242,277,467,357,314,219,289,119,390,404,272,274,297,416,28,302,205,453,103,161,218,295,495,247,412,286,139,310,64,142,346,15,370,500,275,348,187,28,71,467,228,50,400,30,114,190,459,86,383,255,183,471,14,36,331,245,370,49};
    Integer[] a7 = new Integer[] {272,49,240,181,326,80,263,457,103,250,213,450,30,233,498,494,243,35,193,453,54,436,382,150,151,60,361,212,373,190,70,495,37,9,344,113,42,72,334,252,26,141,384,36,298,435,33,263,274,407,307,395,57,32,207,305,369,381,19,202,294,195,2,268,186,356,475,436,1,141,88,149,475,280,47,343,95,481,224,208,58,3,65,48,394,194,414,332,220,461,402,98,33,67,383,391,212,432,263,419,275,438,463,198,127,168,333,362,38,296,48,437,33,168,34,207,138,199,154,256,293,28,153,75,96,217,334,454,345,145,422,465,461,320,288,374,348,138,161,83,214,465,5,73,335,358,176,214,181,31,285,175,497,171,230,493,370,352,373,311,419,66,366,189,279,430,374,327,480,211,12,481,204,303,416,392,106,98,366,206,314,367,338,368,165,315,478,0,491,186,139,343,116,110,352,294,326,443,8,198,146,420,203,180,301,292,62,394,468,380,166,167,47,89,438,95,224,82,338,92,399,27,152,80,269,163,308,286,163,19,161,57,494,240,415,425,289,138,287,405,121,135,333,367,0,315,247,331,382,13,1,88,181,247,277,387,202,467,391,482,417,369,231,497,184,81,440,231,432,233,420,39,25,231,411,417,56,76,332,78,284,62,216,171,186,249,470,30,62,486,229,247,270,298,8,464,349,363,466,54,253,115,124,12,333,385,454,385,307,472,182,158,159,294,24,262,245,290,467,343,164,239,254,463,321,174,444,22,85,139,479,439,122,292,144,468,312,365,466,403,465,75,129,436,424,384,360,428,238,50,364,123,305,280,194,328,193,48,431,424,141,280,67,369,228,191,466,414,422,403,364,452,160,460,208,377,174,236,124,58,160,26,156,163,38,287,421,305,52,124,148,156,365,210,31,348,113,496,11,410,255,133,76,102,143,31,433,111,33,246,65,177,438,434,476,324,439,232,309,304,481,460,494,467,108,481,37,139,396,499,58,150,234,192,97,125,406,26,408,168,341,417,311,121,348,329,460,147,17,87,484,318,209,344,166,58,298,457,37,189,236,303,474,422,485,237,205,379,109,207,85,49,393,8,352,409,469,417,405,477,193,117,56,75,82,187,285,52,381,405,13,204,134,478,386,256,272,44,177,397,33,173,402,251,340,203,45,327,256,309,18,13,464,444,255,206,48,417,393,329,401,247,418,87,34,274,279,290,115,197,60,407,424,324,484,314,468,404,448,186,46,72,320,395,221,396,340,102,94,100,134,126,272,119,287,311,399,331,382,243,14,165,314,240,460,91,15,220,111,423,270,358,323,116,203,423,121,466,403,255,271,256,358,320,408,263,448,41,395,441,395,59,258,63,333,293,352,330,272,372,477,165,140,457,294,33,156,190,233,307,144,51,236,472,106,375,48,256,258,95,286,448,422,459,133,372,386,39,451,364,372,95,64,325,485,243,472,179,227,126,376,496,164,443,122,8,66,35,213,366,40,288,130,173,402,438,337,373,474,284,422,75,435,22,10,113,398,355,441,171,446,408,217,429,163,297,115,140,378,445,1,408,420,487,337,68,477,443,373,254,339,287,253,43,193,196,229,413,149,54,102,279,201,485,64,258,403,143,447,413,210,381,214,392,169,283,204,143,227,208,359,117,473,375,376,199,449,283,447,237,483,133,104,113,181,390,22,307,156,246,148,198,209,61,371,172,47,409,108,363,298,18,474,486,366,46,349,96,232,248,127,413,62,239,303,377,431,285,486,31,168,403,110,206,219,261,67,381,489,319,347,127,98,175,141,206,267,251,322,116,81,118,47,142,129,280,394,142,307,162,52,199,37,268,494,10,242,110,479,211,299,194,218,41,141,425,225,359,142,403,316,496,162,117,126,238,426,409,51,355,83,343,248,269,399,185,252,292,290,230,160,139,370,377,411,166,429,81,157,312,218,360,334,324,236,34,427,139,24,272,253,20,256,384,285,371,137,284,368,4,69,428,335,364,143,220,248,6,60,86,24,124,19,189,98,251,144,267,304,394,308,203,341,453,453,326,59,305,291,399,283,49,406,230,289,176,205,21,254,267,412,180,97,489,430,135,480,75,58,407,14,5,485,39,369,136,286,239,71,51,308,105,277,93,402,286,444,146,74,481,308,95,107,86,350,383,148,109,77,441,341,13,422,46,54,353,280,22,208,121,47,233,74,215,367,280,414,421,165,298,94,174,205,104,401,327,300,198,73,110,98,396,30,395,233,366,420,319,310,94,112,326,471,268,8,424,455,69,199,357,216,234,401,398,260,339,151,291,317,128,14,415,187,494,56,294,494,47,251,250,195,136,190,479,4,68,196,133,326,429,263,139,356,67,257,485,369,465,491,29,413,236,109,225,84,301,266,81,402,365,12,240,389,318,291,458,209,349,424,15,200,81,452,263,397,29,290,84,242,145,274,58,292,12,304,477,90,380,396,335,420,299,359,160,459,356,329,171,340,301,220,279,439,218,167,331,47,423,449,354,435,385,98,321,273,364,225,386,177,87,18,116,380,431,357,168,427,228,482,386,45,96,482,86,35,196,365,252,41,395,336,291,82,7,420,93,93,287,304,20,89,455,206,436,346,383,88,321,284,259,146,72,335,439,58,88,385,78,422,184,220,120,225,489,409,4,94,324,297,122,117,91,45,85,413,291,461,41,37,324,399,35,287,199,124,180,52,308,258,166,164,212,194,233,35,370,38,220,300,172,405,60,142,338,478,72,94,266,324,244,58,100,227,288,436,109,123,340,86,104,117,234,335,268,153,178,73,91,497,130,311,272,432,473,90,29,85,329,322,62,185,94,134,79,393,35,497,233,148,498,178,139,111,365,41,118,192,436,225,38,396,422,152,275,318,421,365,306,247,366,367,377,326,86,114,449,48,394,158,84,480,215,416,77,199,429,26,263,494,90,311,344,332,487,165,177,117,86,456,413,304,46,122,101,263,146,336,206,104,144,374,234,93,124,9,316,279,269,215,137,360,17,10,398,239,344,484,361,110,356,185,208,151,183,187,367,36,424,302,115,342,22,52,356,402,188,107,491,245,365,94,91,189,27,315,415,48,364,282,407,347,385,9,92,440,384,134,368,176,428,256,35,363,260,213,185,260,29,221,379,235,256,152,437,149,88,63,363,373,390,498,148,163,197,211,18,216,310,456,266,237,496,368,450,259,438,71,409,90,397,347,158,249,273,475,251,349,96,103,104,427,469,1,47,216,293,257,343,486,10,387,383,353,130,53,355,3,381,435,85,115,158,190,488,389,160,123,142,186,14,405,196,111,169,60,183,181,458,293,202,122,250,21,328,171,441,454,30,186,50,361,422,376,354,145,378,104,187,485,437,403,49,212,333,412,73,393,482,318,9,387,133,37,68,134,81,18,190,34,191,386,10,372,131,435,286,286,455,50,217,104,191,17,424,2,370,252,311,4,4,143,421,470,154,472,342,213,385,152,184,419,492,336,180,6,14,303,134,141,422,328,223,199,150,440,11,401,183,90,167,178,275,217,379,389,464,387,147,95,281,86,209,8,323,236,122,119,236,302,66,203,462,261,269,127,253,80,164,363,220,324,446,496,184,415,158,364,499,84,351,209,213,213,92,38,162,210,73,113,253,100,444,94,1,352,209,196,255,217,226,163,449,82,286,369,409,385,37,90,236,87,439,368,194,425,76,318,24,101,35,147,234,254,220,102,202,188,63,259,190,93,244,195,125,204,270,240,88,432,254,337,219,212,151,69,268,499,15,381,258,295,256,116,359,234,273,296,284,21,389,359,79,110,340,215,497,18,306,395,154,475,122,159,201,36,323,349,392,44,162,295,267,327,234,435,462,389,24,69,88,447,1,198,482,469,410,266,173,367,303,345,283,251,190,433,30,310,314,292,90,213,240,328,247,45,12,291,375,80,166,388,232,64,391,207,73,389,489,159,367,331,251,341,238,275,70,500,76,203,57,175,111,186,51,352,183,476,490,22,397,455,424,136,298,451,446,431,441,363,467,462,431,173,57,58,326,36,400,486,343,455,397,418,76,114,87,258,152,254,15,202,214,462,397,115,174,461,117,247,167,278,142,144,10,43,133,442,144,300,337,483,316,201,216,297,29,222,91,125,131,402,340,316,467,126,419,236,478,332,309,381,169,440,431,393,352,8,8,417,114,309,73,89,243,171,303,178,237,152,363,17,12,250,108,328,256,65,206,408,197,329,76,94,300,97,311,423,268,7,380,137,204,144,80,324,368,21,187,369,419,488,6,55,17,29,476,111,41,135,310,456,442,446,384,396,106,238,70,167,218,343,321,228,162,358,345,255,6,451,293,94,192,64,18,386,203,231,340,205,222,193,204,362,10,110,323,325,437,36,34,35,472,39,92,72,120,336,162,342,356,467,127,315,252,56,62,123,155,92,237,105,248,333,404,191,1,488,182,473,140,410,50,9,91,286,86,179,141,19,419,365,456,228,254,28,43,271,110,66,294,12,329,85,58,186,422,403,317,276,168,116,20,438,413,371,149,236,383,441,478,180,205,380,87,101,108,457,427,410,49,444,476,11,499,99,126,155,237,369,141,409,195,5,383,245,384,20,198,289,459,252,467,286,231,158,378,386,10,166,156,113,275,169,78,375,76,167,447,389,175,214,183,350,490,387,0,19,189,473,290,191,419,258,374,275,120,345,102,59,307,5,232,132,198,205,214,46,265,132,457,46,425,309,174,269,271,280,442,282,33,368,41,391,248,83,157,337,419,312,386,95,296,76,458,489,2,343,40,89,351,131,23,414,62,64,443,486,363,152,310,294};
*/
        MergeIntervals sr = new MergeIntervals();
        for (Integer a : actions) {
            sr.addNum(a);
        }
        System.out.println(sr.getIntervals());

    }
}
